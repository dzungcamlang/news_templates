{% extends 'layout/default.html' %}

{% block content %}

<h1>Group By Source</h1>

{% for source, articles in cached_articles|groupby('Source') %}
    <h2>{{ source }}</h1>
    <div class='table-responsive'>
        <table class='table'>
            <thead>
                <th>Article Url</th>
                {%- for field in required_fields -%}
                <th >{{ field }}</th>
                {%- endfor -%}
            </thead>
            <tbody>
                {%- for article in articles -%}
                <tr>
                    <td><a href='/cached/{{ article.md5 }}'>{{article.ArticleUrl}}</a></td>
                    {%- for field in required_fields -%}
                    <td >
                    {{ article[field] }}
                        <!-- <div class='text-truncate text-break' ></div> -->
                    </td>
                    {%- endfor -%}
                </tr>
                {%- endfor -%}
            </tbody>
        </table>
    </div>
{% endfor %}

{% endblock %}